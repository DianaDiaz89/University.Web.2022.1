@model List<University.BL.DTOs.StudentDTO>

@{
    ViewBag.Title = "Index";
}

<h2>Students</h2>
@*Redireccionando hacia una action GET*@
@Html.ActionLink("New", "Create", "Students", null, new { @class = "btn btn-primary" })

<table class="table table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>LastName</th>
            <th>FirstMidName</th>
            <th>EnrollmentDate</th>
            <th>options</th>
        </tr>

    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>

                <td>@item.ID</td>
                <td>@item.LastName</td>
                <td>@item.FirstMidName</td>
                <td>@item.EnrollmentDate</td>

                <td>@Html.ActionLink("Edit", "Edit", "Students", new { id = item.ID }, new { @class = "btn btn-warning" })

               @Html.ActionLink("Delete", "Delete", "Students", new { id = item.ID }, new { @class = "btn btn-danger" })

               @Html.ActionLink("Courses", "Index", "Students", new { id = item.ID }, new { @class = "btn btn-info" })
                
                </td>

            </tr>

        }

    </tbody>
</table>

@if (ViewBag.Courses != null)
{
    var coursesDTO = (List<University.BL.DTOs.CourseDTO>)ViewBag.Courses;

    <h2>Courses by student</h2>

    <hr />

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Title</th>
                <th>Credits</th>
                
            </tr>

        </thead>



        <tbody>
            @foreach (var item in coursesDTO)
            {
                <tr>

                    <td>@item.CourseID</td>
                    <td>@item.Title</td>
                    <td>@item.Credits</td>
                    

                   

                </tr>

            }

        </tbody>
    </table>
}